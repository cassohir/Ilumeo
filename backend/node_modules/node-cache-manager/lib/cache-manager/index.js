'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var cache={cache:{},storageEnabled:!1,storageProvider:null,storeName:'',init:async function e(a){var b=a.storageProvider,c=a.storeName,d=c===void 0?'':c;b?(this.storageEnabled=!0,this.storageProvider=b,this.storeName=d,this.cache=await this.storageProvider.store(d)):this.cache={}},initSync:function e(a){var b=a.storageProvider,c=a.storeName,d=c===void 0?'':c;b?(this.storageEnabled=!0,this.storageProvider=b,this.storeName=d,this.cache=this.storageProvider.storeSync(d)):this.cache={}},set:async function c(a,b){return this.cache[a]=b,this.storageEnabled&&(await this.storageProvider.updateStore(this.storeName,this.cache)),this.cache},setSync:function c(a,b){return this.cache[a]=b,this.storageEnabled&&this.storageProvider.updateStoreSync(this.storeName,this.cache),this.cache},get:async function b(a){return this.cache[a]},getSync:function b(a){return this.cache[a]},clear:async function a(){return this.cache={},this.storageEnabled&&(await this.storageProvider.clear(this.storeName)),this.cache},clearSync:function a(){return this.cache={},this.storageEnabled&&this.storageProvider.clearSync(this.storeName),this.cache},delete:async function b(a){return delete this.cache[a],this.storageEnabled&&(await this.storageProvider.updateStore(this.storeName,this.cache)),this.cache},deleteSync:function b(a){return delete this.cache[a],this.storageEnabled&&this.storageProvider.updateStoreSync(this.storeName,this.cache),this.cache},keys:async function a(){return Object.keys(this.cache)},keysSync:function a(){return Object.keys(this.cache)},dump:async function a(){return this.cache},dumpSync:function a(){return this.cache},reStore:async function e(a){var b=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];if(!a)throw new Error('data undefined');if(b){var c=this.cache,d=Object.assign({},c,a);this.storageEnabled&&(await this.storageProvider.updateStoreSync(this.storeName,d)),this.cache=d}else{var f=Object.assign({},a);this.storageEnabled&&(await this.storageProvider.updateStoreSync(this.storeName,f)),this.cache=f}},reStoreSync:function e(a){var b=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];if(!a)throw new Error('data undefined');if(b){var c=this.cache,d=Object.assign({},c,a);this.storageEnabled&&this.storageProvider.updateStore(this.storeName,d),this.cache=d}else{var f=Object.assign({},a);this.storageEnabled&&this.storageProvider.updateStore(this.storeName,f),this.cache=f}}};exports.default=cache;